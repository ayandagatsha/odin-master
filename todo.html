<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>To-Do List App</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 2em auto; }
    h1 { text-align: center; }
    #new-task { width: 70%; padding: 0.5em; }
    #add-btn { padding: 0.6em 1em; }
    ul { list-style: none; padding: 0; }
    li { 
      display: flex; 
      justify-content: space-between; 
      padding: 0.5em; 
      border-bottom: 1px solid #ddd; 
    }
    .delete-btn { color: red; border: none; background: none; cursor: pointer; }
  </style>
</head>
<body>
  <h1>My To-Do List</h1>
  <div>
    <input id="new-task" placeholder="Enter a new task…" />
    <button id="add-btn">Add</button>
  </div>
  <ul id="tasks"></ul>


   <script>
  (function() {
    const input = document.getElementById('new-task');
    const addBtn = document.getElementById('add-btn');
    const list   = document.getElementById('tasks');
    const STORAGE_KEY = 'odinTodoTasks';

    // Load tasks from LocalStorage on startup
    let tasks = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    renderTasks();

    function saveTasks() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    }

    function renderTasks() {
      list.innerHTML = '';
      tasks.forEach((text, i) => {
        const li = document.createElement('li');
        li.textContent = text;

        const del = document.createElement('button');
        del.textContent = '×';
        del.className = 'delete-btn';
        del.onclick = () => {
          tasks.splice(i, 1);
          saveTasks();
          renderTasks();
        };

        li.appendChild(del);
        list.appendChild(li);
      });
    }

    function addTask() {
      const text = input.value.trim();
      if (!text) return;
      tasks.push(text);
      saveTasks();
      renderTasks();
      input.value = '';
    }

    // Initialize events (Singleton bootstrap)
    addBtn.addEventListener('click', addTask);
    input.addEventListener('keypress', e => {
      if (e.key === 'Enter') addTask();
    });
  })();
</script>


</body>
</html>
